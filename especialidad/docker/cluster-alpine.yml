version: '2'

services:
  zookeeper1:
    build: ./zookeeper-alpine
    image: jnonino/zookeeper-alpine:3.4.8
    environment:
      ZK_SERVERS: "server.1=192.168.0.106:2888:3888 server.2=192.168.0.106:2889:3889 server.3=192.168.0.106:2890:3890"
      ZK_ID: 1
    ports:
      - "2181:2181"
      - "2888:2888"
      - "3888:3888"
  zookeeper2:
    build: ./zookeeper-alpine
    image: jnonino/zookeeper-alpine:3.4.8
    environment:
      ZK_SERVERS: "server.1=192.168.0.106:2888:3888 server.2=192.168.0.106:2889:3889 server.3=192.168.0.106:2890:3890"
      ZK_ID: 2
    ports:
      - "2182:2181"
      - "2889:2889"
      - "3889:3889"
  zookeeper3:
    build: ./zookeeper-alpine
    image: jnonino/zookeeper-alpine:3.4.8
    environment:
      ZK_SERVERS: "server.1=192.168.0.106:2888:3888 server.2=192.168.0.106:2889:3889 server.3=192.168.0.106:2890:3890"
      ZK_ID: 3
    ports:
      - "2183:2181"
      - "2890:2890"
      - "3890:3890"